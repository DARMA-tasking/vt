###############################################################################
############## Warning this is a generated file---do not modify ###############
###############################################################################

name: PR tests (gcc-9, ubuntu, mpich, zoltan)

trigger:
  branches:
    include:
      - develop
      - 1.0.0*

pr:
  branches:
   include:
     - '*'


resources:
- repo: self

variables:
  tag: '$(Build.BuildId)'
  REPO: lifflander1/vt
  ARCH: amd64
  UBUNTU: 20.04
  COMPILER_TYPE: gnu
  COMPILER: gcc-9
  BUILD_TYPE: release
  ULIMIT_CORE: 0
  CODE_COVERAGE: 0
  VT_LB: 1
  VT_TRACE: 0
  VT_TRACE_RT: 0
  VT_TRACE_ONLY: 1
  VT_MIMALLOC: 0
  VT_DOCS: 0
  VT_ASAN: 0
  VT_WERROR: 1
  VT_POOL: 1
  VT_EXTENDED_TESTS: 1
  VT_UNITY_BUILD: 1
  VT_FCONTEXT: 0
  VT_USE_OPENMP: 0
  VT_USE_STD_THREAD: 0
  VT_ZOLTAN: 1
  VT_CI_BUILD: 1
  VT_DIAGNOSTICS: 1
  CACHE: "$(Agent.TempDirectory)/cache/"
  cache_name: ubuntu-gcc-9-cache
  build_root: "$(CACHE)/$(ARCH)-ubuntu-$(UBUNTU)-$(COMPILER)-cache/"
  TS: 0
  TS_YEAR: 0
  TS_MONTH: 0
  TS_DAY: 0

stages:
- stage: Build
  displayName: Build image
  jobs:
  - job: Build
    displayName: Build
    pool:
      vmImage: 'ubuntu-18.04'
    timeoutInMinutes: 180
    steps:
      - task: Bash@3
        displayName: Job setup
        inputs:
          targetType: 'inline'
          script: |
            echo setup
